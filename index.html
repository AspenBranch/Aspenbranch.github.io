<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1">
    <title>Aspen Branch</title>
    <style>
      /* Import fonts */
      @font-face {
        font-family: "Montserrat";
        font-weight: 400;
        src: url(https://fonts.gstatic.com/s/montserrat/v25/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCtr6Hw5aXo.woff2) format("woff2");
      }
      @font-face {
        font-family: "Zilla Slab";
        font-weight: 600;
        src: url(https://fonts.gstatic.com/s/zillaslab/v11/dFa5ZfeM_74wlPZtksIFYuUe6HOpWw.woff2) format('woff2');
      }
      @font-face {
        font-family: "Material Icons";
        src: url(https://fonts.gstatic.com/s/materialicons/v135/flUhRq6tzZclQEJ-Vdg-IuiaDsNc.woff2) format("woff2");
      }
      .material-icons {
        font-family: "Material Icons";
        font-size: 24px;
        line-height: 1;
        display: inline-block;
        white-space: nowrap;
        -webkit-user-select: none;
        user-select: none;
      }
      ::-webkit-scrollbar {
        width: 0;
      }
      /* Set up custom CSS properties */
      :root {
        --fallback-font: -apple-system, "SegoeUI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Helvetica Neue", sans-serif;
        --default-font: "Montserrat", var(--fallback-font);
        --heading-font: "Zilla Slab", var(--fallback-font);
        --body-font: 400 17px / 1.75 var(--default-font);
        --theme-primary: #00ffff;
        --theme-secondary: #0066ff;
        --theme-tertiary: #241fb8;
        --gutter-size: 15px;
      }
      @media (min-width:750px) {
        :root {
          --gutter-size: 40px;
        }
      }
      /* establish body - sider relationship */
      body {
        margin: 0;
        font: var(--body-font);
        color: #202020;
        width: 100%;
        height: min(100vh, -webkit-fill-available);
      }
      /* so hero doesn't show up prematurely */
      #homepage {
        display: none;
      }
      .safari-container {
        position: absolute;
        display: flex;
        width: 100%;
        height: 100%;
        -webkit-overflow-scrolling: touch;
        overflow: hidden;
      }
      .page {
        display: none;
        flex: 1;
        height: 100%;
        overflow: auto;
      }
      .page:nth-of-type(4) {
        overflow: hidden;
        height: 100%;
      }
      .sider {
        display: flex;
        flex-flow: column;
        align-items: center;
        justify-content: space-between;
        height: 100%;
        padding: 15px 0;
        box-sizing: border-box;
        background: #121212;
        color: #fff;
        z-index: 1;
        margin: 0;
        flex: 0 0 55px;
      }
      .flex-column-center {
        display: flex;
        flex-flow: column;
        align-items: center;
      }
      .logo-image {
        margin-bottom: 10px;
        padding-bottom: 10px;
        border-bottom: 1px solid #303030;
      }
      .nav-icon {
        position: relative;
        width: 40px;
        height: 40px;
        display: grid;
        place-items: center;
        border-radius: 50%;
        margin-bottom: 5px;
        cursor: pointer;
        transition: background .3s;
      }
      .nav-icon:hover {
        background: #303030;
      }
      .nav-icon::before {
        content: attr(data-tip);
        font: 400 15px / 1 "Montserrat", var(--fallback-font);
        position: absolute;
        top: 50%;
        left: 100%;
        margin-left: 10px;
        padding: 10px 10px 10px 18px;
        border-radius: 5px;
        border-bottom-left-radius: 0;
        border-top-left-radius: 0;
        width: max-content;
        background: #121212;
        color: #fff;
        z-index: 1;
        transform-origin: left;
        transform: translate(-10px, -50%);
        opacity: 0;
        clip-path: polygon(8px 0%, 100% 0%, 100% 100%, 8px 100%, 8px 70%, 0px 50%, 8px 30%);
        transition-property: transform, opacity;
        transition: .3s ease-in-out;
        pointer-events: none;
      }
      .nav-icon:hover::before {
        opacity: 1;
        transform: translate(0, -50%);
      }
      /* hero selectors: don't use ID unless you need JS lookup or "chrome" elements */
      #hero {
        position: relative;
        display: flex;
        flex-flow: column;
        justify-content: center;
        width: 100%;
        min-height: 100vh;
        padding: 50px var(--gutter-size);
        box-sizing: border-box;
        overflow-x: hidden;
      }
      #hero__name,
      #hero__headline {
        font: 600 45px / 1.5 var(--heading-font);
        color: #202020;
        margin: 0;
      }
      #hero__tagline {
        margin: 10px 0 0;
      }
      #actions {
        display: flex;
        align-items: center;
        column-gap: 15px;
        margin-top: 30px;
      }
      #hero-background {
        position: absolute;
        width: 100vh;
        right: 0;
        z-index: -1;
        opacity: 0;
        animation: slide-in-left .7s forwards;
      }
      .subscribe {
        display: flex;
        flex-flow: column;
        align-items: center;
        padding: 15px;
        gap: 15px;
        border-top: 1px solid #c0c0c0;
        width: min(calc(100% - 30px), 750px);
        margin: 0 auto;
        box-sizing: border-box;
        min-height: 300px;
      }
      .section-text {
        width: min(calc(100% - 30px), 750px);
        box-sizing: border-box;
        margin: 0 auto;
        border-bottom: 1px solid #d8d8d8;
      }
      #homepage .section-text {
        width: min(100%, 800px);
      }
      .section-text h2 {
        font: 600 24px / 1 var(--default-font);
      }
      .hero-background-image {
        z-index: -1;
        height: 100vh;
        display: block;
        -webkit-mask-image: linear-gradient(270deg, #000 0%, #0000 max(500px, 80%));
        mask-image: linear-gradient(270deg, #000 0%, #0000 min(500px, 80%));
      }
      /* button types */
      .primary-action {
        position: relative;
        display: inline-flex;
        align-items: center;
        justify-content: flex-start;
        text-decoration: none;
        background: #121212;
        color: #fff;
        font: inherit;
        padding: 16px 40px;
        line-height: 1;
        border: 0;
        box-sizing: border-box;
        cursor: pointer;
        transition: transform .3s ease-in-out;
      }
      .primary-action::after {
        position: absolute;
        right: 36px;
        content: "arrow_right_alt";
        font-family: "Material Icons";
        font-size: 18px;
        opacity: 0;
        transition: all .3s ease-in-out;
      }
      .primary-action:hover {
        transform: scale(1.1);
      }
      .primary-action .text {
        position: relative;
        display: block;
        right: 0;
        transition: right .3s ease-in-out;
      }
      .primary-action:hover .text {
        right: 8px;
      }
      .primary-action:hover::after {
        opacity: 1;
        right: 24px;
      }
      .alternate-action {
        font: inherit;
        border: 0;
        background: #0000;
        color: #202020;
        text-decoration: none;
        cursor: pointer;
        transition: transform .25s ease-in-out;
      }
      .alternate-action:hover {
        text-decoration: underline;
        transform: scale(1.1);
      }
      .subscribe-breakdown {
        display: flex;
        flex-flow: column;
        align-items: center;
      }
      .step {
        display: flex;
        flex-flow: column;
        width: 100%;
      }
      #popup {
        position: fixed;
        bottom: 10px;
        right: 10px;
        width: min(calc(100% - 80px), 500px);
        background: #0f0f0f;
        color: #fff;
        padding: 15px;
        box-sizing: border-box;
        opacity: 0;
        animation: slide-in 1.1s 2s ease-in-out forwards;
        font-size: 14px;
        z-index: 2;
      }
      #popup h4 {
        font: 600 22px / 1.5 var(--default-font);
        margin: 0;
      }
      @media (max-width:500px) {
        #actions {
          flex-flow: column;
          align-items: flex-start;
          row-gap: 15px;
        }
      }
      .actions {
        display: flex;
        align-items: center;
        column-gap: 15px;
      }
      .actions * {
        font-size: 15px;
      }
      .actions .primary-action {
        background: #0055cc;
        padding: 12px 30px;
      }
      .actions .primary-action:hover::after {
        right: 16px;
      }
      .actions .secondary-action {
        background: #222;
        border: 0;
        border-radius: 0;
        color: #fff;
        font: inherit;
        padding: 12px 30px;
        line-height: 1;
        cursor: pointer;
      }
      .actions .secondary-action:hover {
        -webkit-filter: brightness(0.9);
      }
      #projects-container {
        display: grid;
        grid-template-columns: 1fr;
        width: 100%;
        overflow: hidden;
      }
      @media (min-width:350px) {
        #projects-container {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      @media (min-width:700px) {
        #projects-container {
          grid-template-columns: repeat(3, 1fr);
        }
      }
      @media (min-width:1050px) {
        #projects-container {
          grid-template-columns: repeat(4, 1fr);
        }
      }
      .project {
        width: 100%;
        aspect-ratio: 1;
        perspective: 1000px;
      }
      .project-inner {
        position: relative;
        width: 100%;
        height: 100%;
        transition: transform .6s ease-out;
        transform-style: preserve-3d;
        will-change: transform;
        animation: flip 1s;
      }
      .project:hover .project-inner {
        transform: rotateY(180deg);
      }
      .project-face,
      .project-info {
        position: absolute;
        width: 100%;
        height: 100%;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
      }
      .project-face {
        background-color: #121212;
        color: #fff;
      }
      .project-info {
        padding: 15px;
        box-sizing: border-box;
        background-color: #121212;
        color: #f0f0f0;
        transform: rotateY(180deg);
        font-size: min(16px, 3vw);
        display: flex;
        flex-flow: column;
      }
      .project-image {
        width: 100%;
        display: block;
      }
      .project-title {
        color: var(--theme-primary);
        margin: 0;
        font: 600 1.25em / 1.75 var(--default-font);
      }
      .project-created {
        color: #ff00aa;
        margin: 0 0 20px;
        font-size: 0.8em;
        font-style: italic;
      }
      .project-description {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 3;
        overflow: hidden;
        margin: 0;
      }
      .project-stats {
        border-top: 1px solid #303030;
        padding-top: 10px;
        margin: auto 0 0;
      }
      .about-logo {
        position: absolute;
        opacity: 0.1;
        z-index: -1;
      }
      #comments {
        display: flex;
        flex-flow: column;
        width: 100%;
        height: 100%;
        padding: 15px;
        box-sizing: border-box;
        gap: 10px;
        overflow: auto;
        max-height: calc(100% - 85px);
      }
      .comment {
        display: flex;
        flex-flow: column;
        padding: 15px;
        box-sizing: border-box;
        background: #fff;
        color: #000;
        border: solid 1px #eee;
      }
      .author-avatar-group {
        display: flex;
        align-items: center;
        column-gap: 10px;
      }
      .author-avatar-container {
        width: 50px;
        height: 50px;
        border: solid 1px #ddd;
        display: grid;
        place-items: center;
        border-radius: 50%;
      }
      .comment-author {
        font-size: 17px;
        font-weight: 700;
      }
      .author-avatar {
        width: 35px;
      }
      .comment-content {
        white-space: pre-wrap;
        font: inherit;
        margin: 0;
      }
      .date-posted {
        color: #aaa;
        font-size: 15px;
      }
      .link {
        color: #0055cc;
      }
      .page-header {
        margin: 15px;
        font-size: 30px;
        border-bottom: solid 1px #ddd;
      }
      .js-scroll {
        position: relative;
        opacity: 0;
      }
      .js-scroll.scrolled {
        animation: slide-up .6s ease-in-out forwards;
      }
      @keyframes slide-up {
        0% {
          transform: translateY(30px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }
      @keyframes fade-in {0%{opacity:0;}to{opacity:1;}}
      @keyframes fade-out {0%{opacity:1;}to{opacity:0;}}
      @keyframes flip {
        0% {
          transform: rotateY(0deg);
          opacity: 0;
        }
        100% {
          transform: rotateY(360deg);
          opacity: 1;
        }
      }
      @keyframes slide-in-left {
        0% {
          transform: translateX(60px);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      @keyframes slide-out {
        0% {
          transform: translateX(0);
          opacity: 1;
        }
        100% {
          transform: translateX(90px);
          opacity: 0;
        }
      }
      @keyframes slide-in {
        0% {
          transform: translateX(30px);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
    </style>
  </head>
  <body>
    <div class="safari-container">
      <div id="popup">
        <h4>Welcome to my Homepage</h4>
        <p>Do you like it better than the last one?</p>
        <div class="actions">
          <button id="confirm" class="primary-action"><div class="text"><a class="link" href=""></a>Yes</div></button>
          <button id="close" class="secondary-action">No</button>
        </div>
      </div>
      <!-- sidebar header -->
      <header class="sider">
        <div class="flex-column-center">
          <nav class="flex-column-center">
            <span class="material-icons nav-icon js-home" data-tip="Home">home</span>
            <span class="material-icons nav-icon js-projects" data-tip="Projects">palette</span>
            <span class="material-icons nav-icon js-about" data-tip="About">help</span>
            <span class="material-icons nav-icon js-feed" data-tip="Feed">feed</span>
          </nav>
        </div>
          
        </a>
      </header>
      <!-- Home -->
      <div class="page" id="homepage">
        <div id="hero">
          <h1 id="hero__name">Aspen Branch</h1>
          <h1 id="hero__headline">Mars's Greatest Front-end Developer</h1>
          <p id="hero__tagline">Professional websites every week.</p>
          <div id="actions">
            <button class="primary-action js-projects"><span class="text">View Projects</span></button>
            <button class="alternate-action js-about">Learn More</button>
          </div>
          <div id="hero-background">
            <img class="hero-background-image" src="https://upload.wikimedia.org/wikipedia/commons/e/ec/Palm_trees_at_Mitsamiouli_beach.jpg">
          </div>
        </div>
        <section class="subscribe">
          <div class="section-text js-scroll">
            <h2>Welcome!</h2>
            <p>This is my homepage-- how boring. Here's some of my upcoming projects.</p>
          </div>
          <div class="subscribe-breakdown">
            <div class="step js-scroll">
              <h3>Sister Cities</h3>
              <p>A game where there's a city (ie boston) and you need to guess ANOTHER city in close population.</p>
            </div>
            <div class="step js-scroll">
              <h3>WebDev</h3>
              <p>A website for a fictional company named WebDev, that sells a coding resorces like AI.</p>
            </div>
            <div class="step js-scroll">
              <h3>FishTopia</h3>
              <p>A goverment website for the large underwater metropolis; with lots of fish.</p>
            </div>
          </div>
        </section>
      </div>
      <!-- Projects -->
      <div class="page">
        <div id="projects-container">
          <div class="section-text">
            <h2>Projects</h2>
            <p>Here's a few of my best:</p>
            <!--<a class="link" href="https://codepen.io/Aspen-Branch/pen/WNLzVrr">Glow Jump<br></a><br><p>Here's a hard game where you jump on platforms that keep on getting faster. It's a game PJS built with 200+ lines.</p>
            <a class="link" href="https://codepen.io/Aspen-Branch/pen/rNooYRv">Astro<br></a><p>A fun game where you drive a spaceship around and avoid big black circles going at you. A JS game.</p>
            <a class="link" href="https://github.com/AspenBranch/Aspen.js"><br></a><p>Aspen.js is a no-html website builder. It's very simple, but used to make it easier to explain muiltipe pages. WIP.</p>
            <a class="link" href="https://codepen.io/Aspen-Branch/pen/oNJZNgZ">Tunnelz<br></a><p>A simple game where you move your mouse though tunnels. </p>
            <br>-->
               <canvas id="Glow"></canvas>
  <script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script> 
  <script>
  var programCode = function(processingInstance) {
    with (processingInstance) {
      size(600, 600); 
      frameRate(60);
      smooth();
size(600,600,P2D);

//Leaderboard Sorting and Variables
var leaderboard = [
    {
        name: "Aspen",
        score: 101
    },
    {
        name: "Sidney",
        score: 94
    },
    {
        name: "eggs",
        score: 84
    },
    {
        name: "tobidobi4545",
        score: 40
    },
    {
        name: "Zents",
        score: 99
    },
]
.sort(function(a,b){
    return a.score - b.score;
})
.reverse();

//Color Palette (Not all colors are used.)
var colors = {
    red: color(255, 0, 0),
    orange: color(255, 153, 0),
    yellow: color(255, 234, 0),
    green: color(0, 181, 36),
    blue: color(0, 51, 255),
    purple: color(191, 0, 255),
    white: color(255, 255, 255),
    black: color(0, 0, 0),
    transBlue: color(0, 51, 255, 150),
    transOrange: color(255, 153, 0, 150),
};

//Random Variables
// {
    var scene = "intro";
    var points = 0, speed = 3, highscore = 0;
    var clicked = false;
// }

//Key Functions and Variables
var keys = [];
keyPressed = function(){
    keys[keyCode] = true;
};
keyReleased = function(){
    keys[keyCode] = false;
};

//Cubey
var cubey = {
    //Key player controls.
    x: 50,
    y: 280,
    w: 40,
    h: 40,
    g: 10,
    j: true,
    
    //Past Location (Important for later)
    past: {
        x: 50,
        y: 280,
    },
    
    //Moving and Gravity
    update: function(){
        //Update Past Location
        cubey.past.x = cubey.x;
        cubey.past.y = cubey.y;
        
        //Gravity
        cubey.y += cubey.g;
        cubey.g += 0.5;
        
        //Applying gravity.
        if(keys[UP] && cubey.j){
            cubey.g = -13;
            cubey.j = false;
        }
        
        //Ending the game.
        if(cubey.y > 500){
            scene = "dead";
        }
        
        //The other directions.
        if(keys[LEFT]){
            cubey.x -= 3;
        }
        if(keys[RIGHT]){
            cubey.x += 3;
        }
        
        //Keeping cubey in the map.
        if(cubey.x + cubey.w >= 600){
            cubey.x = 600 - cubey.w;
        }
        if(cubey.x <= 0){
            cubey.x = 0;
        }
    },
    
    //Drawing Player
    make: function(){
        stroke(colors.transOrange);
        strokeWeight(5);
        fill(colors.orange);
        rect(cubey.x,cubey.y,cubey.w,cubey.h);
        fill(colors.black);
        rect(cubey.x + 5,cubey.y + 5,30,30);
    }
};

//Columns
var column = function(x,y,w,h){
    //Design
    strokeWeight(5);
    stroke(colors.transBlue);
    fill(colors.blue);
    rect(x,y,w,h);
    fill(colors.black);
    rect(x + 5,y + 5,w - 10,h - 10);
    
    //Collisions
    if(cubey.x + cubey.w > x && cubey.y + cubey.h > y && cubey.x < x + w && cubey.y < y + h){
        if(cubey.past.x + cubey.w <= x){
            cubey.x = x - cubey.w;
        } 
        if(cubey.past.y + cubey.h <= y){
            cubey.g = 0;
            cubey.j = true;
            cubey.y = y - cubey.h;
        } 
        if(cubey.past.x >= x + w){
            cubey.x = x + w;
        } 
        if(cubey.past.y >= y + h) {
        cubey.g = 1;
            cubey.y = y + h;
        }
    }
};

//Text Align and Font
// {
    textAlign(CENTER,CENTER);
    textFont(createFont("Monospace Bold"));
// }

//Button
var button = function(x,y,w,h,txt,dest){
    strokeWeight(5);
    stroke(colors.transBlue);
    if(mouseX > x && mouseX < x + w && mouseY > y && mouseY < y + h){
        fill(colors.blue);
        rect(x - 5,y - 5,w + 10,h + 10);
        fill(colors.black);
        rect(x,y,w,h);
    }
    else{
        fill(colors.blue);
        rect(x,y,w,h);
        fill(colors.black);
        rect(x + 5,y + 5,w - 10,h - 10);
    }
    textSize(35);
    fill(colors.transBlue);
    text(txt,x + w / 2,(y + h / 2) + 1);
    fill(colors.blue);
    text(txt,x + w / 2,(y + h / 2) - 1);
    if(mouseX > x && mouseX < x + w && mouseY > y && mouseY < y + h && clicked === true){
        scene = dest;
    }
};

//Game Scene and Variables
var firstColumn = -10;
var columnH = [random(200,400),random(200,400),random(200,400),random(200,400),random(200,400),random(200,400)];
var columns = [400,550,700,850,1000,1150];
var game = function(){
    //Cubey
    cubey.update();
    cubey.make();
    
    //The Starting Column
    column(firstColumn,320,310,300);
    
    //The Game Columns
    for(var i = 0; i < 6; i++){
        column(columns[i],columnH[i],50,410);
    }
    /*column(columns[0],columnH[0],50,410);
    column(columns[1],columnH[1],50,410);
    column(columns[2],columnH[2],50,410);
    column(columns[3],columnH[3],50,410);
    column(columns[4],columnH[4],50,410);
    column(columns[5],columnH[5],50,410);*/
    
    //Moving the Columns
    firstColumn -= points / 10 + speed;
    columns[0] -= points / 10 + speed;
    columns[1] -= points / 10 + speed;
    columns[2] -= points / 10 + speed;
    columns[3] -= points / 10 + speed;
    columns[4] -= points / 10 + speed;
    columns[5] -= points / 10 + speed;
    
    //Sending Columns Back
    if(columns[0] <= -75){
        columns[0] = 825;
        points++;
    }
    if(columns[1] <= -75){
        columns[1] = 825;
        points++;
    }
    if(columns[2] <= -75){
        columns[2] = 825;
        points++;
    }
    if(columns[3] <= -75){
        columns[3] = 825;
        points++;
    }
    if(columns[4] <= -75){
        columns[4] = 825;
        points++;
    }
    if(columns[5] <= -75){
        columns[5] = 825;
        points++;
    }
    
    //Score Tracker
    textSize(75);
    fill(colors.transBlue);
    text(points,300,52);
    fill(colors.blue);
    text(points,300,49);
};

//Intro Scene and Variables
var introEverything = 0;
var introFade = [0,0,0];
var introLines = [305,0,0,0,360,0];
var intro = function(){
    introFade[0] += 1;
    if(introFade[0] > 100){
        introFade[1] += 3;
        introLines[0] -= 2;
        introLines[1] += 2;
        introLines[2] += 2;
    }
    noStroke();
    fill(colors.orange,introFade[1]);
    textSize(50);
    text("AspenBranch",300,introEverything + 300);
    rect(introLines[0],introEverything + 250,introLines[1],10,10);
    rect(introLines[0],introEverything + 350,introLines[1],10,10);
    rect(295,introEverything + 250,introLines[2],10,10);
    rect(295,introEverything + 350,introLines[2],10,10);
    if(introLines[0] < 101){
        introLines[0] = 101;
        introLines[1] = 398;
        introLines[2] = 198;
        introLines[3] += 2;
        introLines[4] -= 2;
        introLines[5] += 2;
    }
    rect(99,introEverything + 250,10,introLines[3],10);
    rect(491,introEverything + introLines[4],10,introLines[5],10);
    if(introLines[4] < 252){
        introLines[3] = 108;
        introLines[4] = 252;
        introLines[5] = 108;
        introFade[2] += 5;
    }
    noStroke();
    fill(colors.black,introFade[2]);
    rect(0,0,width,height);
    if(introFade[2] > 255){
        scene = "menu";
    }
};

//Juice
var randomJuice1, randomJuice2, randomJuice3, randomJuice4;
var juice = function(){
    randomSeed(82);
    noStroke();
    for(var i = 0; i < 20; i++){
        randomJuice1 = random(10,30);
        randomJuice2 = random(25,575);
        randomJuice3 = random(225,575);
        fill(colors.transBlue);
        ellipse(randomJuice2 + 1,randomJuice3 + 1,randomJuice1,randomJuice1);
        fill(colors.blue);
        ellipse(randomJuice2 - 1,randomJuice3 - 1,randomJuice1,randomJuice1);
    }
    for(var i = 0; i < 10; i++){
        randomJuice1 = random(10,30);
        randomJuice2 = random(25,575);
        randomJuice4 = random(25,75);
        fill(colors.transBlue);
        ellipse(randomJuice2 + 1,randomJuice4 + 1,randomJuice1,randomJuice1);
        fill(colors.blue);
        ellipse(randomJuice2 - 1,randomJuice4 - 1,randomJuice1,randomJuice1);
    }
};

//Menu Scene and Variables
var menu = function(){
    juice();
    textSize(100);
    fill(colors.transBlue);
    text("Glow Jump",300,152);
    fill(colors.blue);
    text("Glow Jump",300,148);
    button(150,300,300,75,"Play","game");
    button(150,400,300,75,"How","how");
    button(150,500,300,75,"Lead","lead");
};

//How Scene and Variables
var how = function(){
    textSize(70);
    fill(colors.transBlue);
    text("How to Play",300,102);
    fill(colors.blue);
    text("How to Play",300,98);
    textSize(30);
    fill(colors.transBlue);
    text("Use the arrow keys to stay up\non the platforms to stay alive.",300,316);
    fill(colors.blue);
    text("Use the arrow keys to stay up\non the platforms to stay alive.",300,314);
    button(150,500,300,75,"Menu","menu");
};

//Leaderboard Scene (variables up top)
var lead = function(){
    textSize(70);
    fill(colors.transBlue);
    text("Leaderboard",300,102);
    fill(colors.blue);
    text("Leaderboard",300,98);
    textSize(30);
    for(var i in leaderboard){
        fill(colors.transBlue);
        text(leaderboard[i].name + " - " + leaderboard[i].score,300,i * 50 + 231);
        fill(colors.blue);
        text(leaderboard[i].name + " - " + leaderboard[i].score,300,i * 50 + 229);
    }
    button(150,500,300,75,"Menu","menu");
};

//Dead Scene and Variables
var dead = function(){
    if(points >= highscore){
        highscore = points;
    }
    textSize(70);
    fill(colors.transBlue);
    text("You Died",300,102);
    fill(colors.blue);
    text("You Died",300,98);
    textSize(30);
    fill(colors.transBlue);
    text("Score - " + points + "\nHigh - " + highscore,300,301);
    fill(colors.blue);
    text("Score - " + points + "\nHigh - " + highscore,300,299);
    button(150,500,300,75,"Menu","reset");
};

//Reset 'Scene'
var reset = function(){
    points = 0;
    firstColumn = -10;
    columns[0] = 400;
    columns[1] = 550;
    columns[2] = 700;
    columns[3] = 850;
    columns[4] = 1000;
    columns[5] = 1150;
    cubey.x = 50;
    cubey.y = 280;
    scene = "menu";
};

//Draw function
draw = function() {
    background(colors.black);
    switch(scene){
        case "intro":
            intro();
        break;
        case "menu":
            menu();
        break;
        case "game":
            game();
        break;
        case "how":
            how();
        break;
        case "lead":
            lead();
        break;
        case "dead":
            dead();
        break;
        case "reset":
            reset();
        break;
    }
    clicked = false;
};

//Turns clicked true.
mouseClicked = function(){
    clicked = true;
};

      
    }};

  // Get the canvas that ProcessingJS will use
  var canvas = document.getElementById("Glow"); 
  // Pass the function to ProcessingJS constructor
  var processingInstance = new Processing(canvas, programCode); 
  </script>
            <canvas id="Invisable"></canvas> 
            
  <script>
  var programCode = function(processingInstance) {
    with (processingInstance) {
      size(600, 600); 
      frameRate(60);
        
      // Paste code from Khan Academy here:
      noStroke();
smooth();
textSize(25);
var keys = [];
var nxt = true;
var deaths = 0;
var timer = 0;
var level = 0;
var blocks = [];
var block_size = 20;
var message = [
    "Arrow keys",
    "Finding your way in the dark is tough",
    "It's like finding your way through life",
    "Sometimes it's easy",
    "Sometimes it's hard",
    "Sometimes there are no guides",
    "A lot of times...",
    "Sometimes it can be like a giant staircase",
    "That was fun",
    "Life can be like a path with holes",
    "Some are big ones",
    "Some are more dangerous",
    "And then there are the easy times",
    "Life changes in a good way",
    "Life can change suddenly",
    "Sudden changes change your perspective",
    "Life can also change for the worse",
    "Things can get dark again...",
    "And hard to see and understand",
    "But no matter what...",
    "Always go forward",
    "And now for you: the Pro gamers; lol",
    "HI?",
    "Which one? ",
    "Idk what to say",
    "This is kinda fun",
    "I can change the color!",
    "Sunshine",
    "Green Apple",
    "Oooh whats this?",
    "Let me know when you find the portal",
    "You win o-o. So awesome. Amazing.",
];
var MAP = [
    [
        "",
        "",
        "",
        "    ",
        "@  a        p",
        "r  r   r    r",
        "",
    ],
    [
        "bbbbbbbbbbbbbbbbbbbbbbb",
        "b                     b",
        "b      rrrr           b",
        "b@   rrrrrrrr      p rb",
        "brrrrrrrrrrrrrrrrrrrrrb",
        "bbbbbbbbbbbbbbbbbbbbbbb",
        
    ],
    [
        "bbbbbbbbbbbbbb",    
        "b         rr b",    
        "b   rr  r    b",
        "b@    rrp  r b",
        "brrrrrrrrrrrrb", 
        "bbbbbbbbbbbbbb",
    ],
    [
        "bbbbbbbbbbbbb", 
        "b           b",
        "b           b",
        "b           b",
        "b  @      p b",
        "bbbbbbbbbbbbb",
    ],
    [
        "bbbbbbbbbbbbbbbbbbbb",
        "b                  b",
        "b                  b",
        "br                 b",
        "br    rr     r     b",
        "brrr         r     b",
        "br    @      r    pb",
        "brrrrrrrrrrrrrrrrrrb",
        "bbbbbbbbbbbbbbbbbbbb",
    ],
    
    [
        "          p",
        "       rrrrr",
        "rr",
        "   rr",
        "@r",
        "rrrrrrrrrrrrrrr",
    ],
    [
        "    r",
        "    r",
        " @  r",
        " r     ",
        " r      ",
        " r  rrrr   ",
        " r  r  r  r  ",
        " r  r  r  r  r   p",
        " r  r  r  r  r rrrr",
    ],
    [
        "@",
        "r",
        "rr",
        "rrr",
        "rrrr",
        "rrrrr",
        "rrrrrr              p",
        "rrrrrrr            rr",
        "rrrrrrrr        rrrrr",
        "rrrrrrrrr     rrrrrrr",
        "rrrrrrrrrrrrrrrrrrrrr",
    ],
    [
        "                p",
        "          r   rrrrr",
        "         rr",
        "        rrr",
        "       rrrr",
        "      rrrrr",
        "     rrrrrr",
        "    rrrrrrr",
        "   rrrrrrrr",
        "  rrrrrrrrr",
        "@rrrrrrrrrr",
        "rrrrrrrrrrr",
    
    ], 
    [
        "",
        "",
        "",
        "@                      p",
        "rrr  rr  rr  rrrrrrrr rr",
        "rrrrrrrrrrrrrrrrrrrrrrrr",
        
        ],
        
    [
        "",
        "",
        "",
        "@                      p",
        "rrr      rr  rrrrrrrr rr",
        "",
        
    ],
    [
        "",
        "        ",
        "         r",
        "@        r             p",
        "rrrrrrr  rrrrrrrrrrrrrrr",
        "      r  r",
        
    ],
    [
        "@  p",
        "r",
    ],
    [
        "rrrrrrp    ",
        "     rr    p",
        "      ",
        "@       ",
        "r  rrr",
        "rrrrrrrrr",
    ],
    [
        "p", 
        "r",
        "",
        "",
        "      r",
        "@ rr",
        "r",
        
    ],
    
    [
        "",
        "",
        "",
        "",
        "@             p",
        "r r r r r r r r",
    ],
    [
        "",
        "",
        "    rrr",
        "         r",
        "@        r    p",
        "r   rr        r",
    ],
    [
        "",
        "",
        "     ",
        "          ",
        "@             p",
        "r   r         r",
    ],
    [
        "",
        "",
        "     ",
        "    r     ",
        "@   r          ",
        "rrrrr          ",
        "r",
        "r p",
        "rrrrr",
    ],
    [
        "@                r",
        "r      rrrr      r",
        "rrrrr        rrrr",
        "    rrrr   rrrr",
        "  p    r   r",
        "rrrrrrrr",
        
        
        
        ],
    [
        "@        a", 
        "r                                                                       p",
        "rrlllllllllr  rrllllrr  rr   r        r    rrrrrrrrrr  r r r r r r r r rrr",
        "rrrrrrrrrrrr   rrrrrr",
    ],
    
    [
        
        " b    ",
        "  b       brbrb",
        "   b     rb   r",
        "    b @   r p  ",
        "      rrrrbrbrbrrrrrr",
        "",
        "",
        "",
        "",
    ],
    [
        "    r",
        "    r",
        "    r",
        "    r   p",
        "@  bb  bb   bb",
        "r  bb  bb r bb",
        "   bbbbbb  ",
        "   bbbbbb  rbb",
        "   bb  bb   bb",
        "   bb  bb r bb",
        "      ",
        "rrrrrrrrrrrr",
        "   ",
        "   ",
    ],
    [
        "                          p",
        "brbrbrbrbrbrbrbrbrb      rrr",
        "r                 r",
        "b                 b  rr       rrr",
        "r        @        r         rrr",
        "b     bbbbbbbb    b",
        "r                 r   rrr",
        "b                 b        ",
        "brbrbrbrb brbrbrbrb     rrr",
        "",
        "       rrrrrrrrrrrrrrrr",
    ],
    [
        "",
        "                                   bbbbbb   bbbbbb   bbbbbb   bbbbb  bb  bb",
        "                                   bbbbbb   bb  bb     bb     bb     bb bb",
        "                                     bb     bb  bb     bb     bb     bbbb",
        "                                     bb     bbbbb      bb     bb     bb bb",
        "                                     bb     bb bbb   bbbbbb   bbbbb  bb  bb",        
        "                                   ",
        "                                   ",
        "               a                     bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
        " p          @                      ",
        "bbb         r  bbb  bb    bbb    bb",
        
        
        
    ],
    [
        "      r",
        "      r",
        "@     r  p",
        "bbbbbbbbbbb",
        "            r",
        "           r",
        "rrrrrrrrrrr",
    ],
    
    [
        "     p",
        "    bbbb",
        "            ",
        "@        ",
        "b t   bbbbbb",
        "",
        "",
    ],
    [
        "         b",
        "         b       bbbbb ",
        "         b       b",
        "         b       b",
        "         bbbbbbbbb  ",
        "                     p",
        "      b b b b b b b bb",
        "@     b",
        "bb t bb",
        "",
        "",
    ],
    [
        "   b  p",
        "   bbbb",
        "@  b",
        "b  t",
        "",
        "",
    ],
    [
        "  p",
        "b b b b b b b b b b b b",
        " ",
        " b b b b b b b b b b b ",
        "@",
        "b b b b b b b b b b b b ",
    ],
    [
        " b   ",
        "    b  b         b b",
        "b            b b           ",
        "  b  b  b  b          b b b b",
        "              b    b     ",
        "    b b  b       b   b b",
        "b           b  b   b     b",
        "  b b   b b            b     ",
        "      b      b  b   b" ,
        " b       b",
        "   b         b   b     b ",
        "@     b   r ",
        "r   b      r    b b b",
        "  r         r                     ",
        "             r                   ",
        "              r                       ",
        "               r            p     ",
        "                rrrrrrrrrrrrrrrrr",
    ],
    
    [
        "    bbbbb",
        "    b   b",
        "@   b p b",
        "bbbbbbbbb",
        "",
        "",
    ],
    

];
function Collide(a, b) {
    if ((a.x + a.w / 2 - 3) > b.x - a.w / 2 &&
        (a.x) < (b.x + b.w - 3) &&
        (a.y + a.h) > b.y &&
        (a.y < b.y - 3)) {
        a.yVel = 0;
        a.jumping = true;
        a.y = b.y - a.h;
    }
    if ((a.x + a.w / 2 - 3) > b.x - a.w / 2 &&
        (a.x) < (b.x + b.w - 3) &&
        (a.y + a.h) > b.y &&
        (a.y < b.y + b.h)) {
        a.yVel = 0;
        a.y = b.y + b.h;

    }
    if ((a.x) > b.x - a.w / 2 &&
        (a.x) < (b.x + b.w) &&
        (a.y + a.h - 3) > b.y &&
        (a.y < b.y + b.h)) {
        a.xSpeed = 0;
        a.x = b.x + b.w;

    }
    if ((a.x + a.w / 2) > b.x - a.w / 2 &&
        (a.x) < (b.x) &&
        (a.y + a.h) > b.y &&
        (a.y < b.y + b.h)) {
        a.xSpeed = 0;
        a.x = b.x - a.w;
    }
}
function touching(a, b) {return a.x + a.w > b.x && a.x < b.x + b.w && a.y + a.h > b.y && a.y < b.y + b.h;}
var p = {
    x: 200,
    y: 200,
    w: block_size - 2,
    h: block_size - 2,
    jumping: false,
    yVel: 0,
    health: 10,
    xSpeed: 0,
    onTramp: false,
    draw: function() {
        fill(100, 100, 255);
        rect(this.x, this.y, this.w, this.h);
    },
    update: function() {
        if (keys[LEFT] || keys[65]) {
            this.xSpeed -= 0.5;
        } else if (keys[RIGHT] || keys[68]) {
            this.xSpeed += 0.5;
        } else {
            this.xSpeed /= 1.1;
        }
        if ((keys[UP] || keys[87]) && this.jumping) {
            this.yVel -= this.onTramp ? 4 : 3;
        }
        if(this.onTramp === true){
		  this.yVel -= 1;
		}
		this.onTramp = false;
        this.yVel += 0.08;
        this.x += this.xSpeed;
        this.y += this.yVel;
        this.jumping = false;
        this.xSpeed = constrain(this.xSpeed, -2, 2);
    },
};
var block = (function() {
    block = function(x, y, w, h, type) {
        this.x = x;
        this.y = y;
        this.w = block_size;
        this.h = block_size;
        this.type = type;
    };
    block.prototype.draw = function() {
        switch (this.type) {
            case "normal": {
                pushStyle();
                    strokeWeight(3);
                    stroke(0, 0, 0);
                    fill(0, 0, 0);
                    if(touching(p, this)){
                        stroke(100, 100, 255);
                    }
                    rect(this.x, this.y, this.w, this.h);
                    popStyle();
                Collide(p, this);
                break;
            }
            case "portal": {
                pushStyle();
                    strokeWeight(3);
                    stroke(100, 100, 255);
                    fill(255);
                    rect(this.x, this.y, this.w, this.h);
                    if (touching(p, this)) {
                        nxt = true;
                    }
                popStyle();
                break;
            }
            case "lava": {
                pushStyle();
                    stroke(99, 159, 255);
                    fill(99, 159, 255);
                    rect(this.x, this.y, this.w, this.h);
                    if (touching(p, this)) {
                        p.health -= 0.5;
                    }
                popStyle();
                break;
            }
            case "border": {
                pushStyle();
                    strokeWeight(3);
                    stroke(100, 100, 255);
                    fill(0, 0, 0);
                    rect(this.x, this.y, this.w, this.h);
                    Collide(p, this);
                popStyle();
                break;
            }
            case "arrows": {
                pushStyle();
                    textSize(50);
                    stroke(100, 100, 255);
                    fill(114 + sin(frameCount * 10) * 30, 112  + sin(frameCount * 10) * 30, 255);
                    text(">", this.x, this.y);
                    fill(114 + sin(frameCount * -10) * 30, 112  + sin(frameCount * -10) * 30, 255);
                    text(">", this.x + 15, this.y);
                    fill(114 + sin(frameCount * 10) * 30, 112  + sin(frameCount * 10) * 30, 255);
                    text(">", this.x + 32, this.y);
                popStyle();
                break;
            }
            case "tramp": {
                pushStyle();
                    strokeWeight(3);
                    stroke(69, 69, 255);
                    fill(100, 100, 255);
                    rect(this.x, this.y, this.w, this.h);
                popStyle();
                if(touching(p, this)){
                    p.onTramp = true;
                }
                Collide(p, this);
                break;
            }
        }
    };
    return block;
})();
function mapSetup(lvl) {
    blocks = [];
    for (var i = 0; i < MAP[lvl].length; i++) {
        for (var j = 0; j < MAP[lvl][i].length; j++) {
            switch (MAP[lvl][i][j]) {
                case "r":
                    blocks.push(new block(j * block_size, i * block_size, block_size, block_size, "normal"));
                    break;
                case "l":
                    blocks.push(new block(j * block_size, i * block_size, block_size, block_size, "lava"));
                    break;
                case "p":
                    blocks.push(new block(j * block_size, i * block_size, block_size, block_size, "portal"));
                    break;
                case "b":
                    blocks.push(new block(j * block_size, i * block_size, block_size, block_size, "border"));
                    break;
                case "a":
                    blocks.push(new block(j * block_size, i * block_size, block_size, block_size, "arrows"));
                    break;
                case "t":
                    blocks.push(new block(j * block_size, i * block_size, block_size, block_size, "tramp"));
                    break;
                case "@":
                    p.x = j * block_size;
                    p.y = i * block_size;
                    break;
            }
            if (p.health <= 0 && MAP[lvl][i][j] === "@") {
                p.x = j * block_size;
                p.y = i * block_size;
                deaths += 1;
                p.health = 10;
                
            }
        }
    }
}
var cam = {x: 200, y: 200};
draw = function() {
    background(0, 0, 0);
    if(level === 1){background(255, 255, 255);}
    if(level === 13){background(23, 25, 138);}
    if(level === 14){background(23, 25, 138);}
    if(level === 15){background(23, 25, 138);}
    if(level === 16){background(255, 255, 255);}
    if(level === 17){background(194, 110, 194);}
    if(level === 21){background(255, 224, 255);}
    if(level === 27){background(255, 168, 255);}
    if(level === 28){background(255, 236, 168);}
    if(level === 29){background(169, 255, 168);}
    if(frameCount % 30 === 0) {
        if(level === 30){background(255, 255, 255);}
    }
    try {
        fill(87, 87, 87);
        textAlign(CENTER,CENTER);
        text(message[level - 1], 300, 546);
        pushMatrix();
            textAlign(LEFT);
            text("deaths: " + deaths, 10, 25);
            text("fps: " + Math.round(this.__frameRate), 10, 50);
            text("timer: " + Math.floor(timer/100), 10, 75);
        popMatrix();
        cam.x += (p.x - cam.x) / 15 || 0;
        cam.y += (p.y - cam.y) / 15 || 0;
        pushMatrix();
            scale(1.5);
            translate(-cam.x + 125, -cam.y + 125);
            if (p.health <= 0) {mapSetup(level - 1);}
            if (nxt) {
                mapSetup(level);
                level++;
                p.health = 10;
                nxt = false;
            }
            for (var i = 0; i < blocks.length; i++) { blocks[i].draw();}
            if(p.y > 1200){
                p.health = 0;
            }
            p.update();
            p.draw();
        popMatrix();
        timer++;
    }
    catch (e) {/*println(e.stack);*/}
    if(keys[84]){
        background(0);
        pushStyle();
            strokeWeight(11);
            stroke(100, 100, 255);
            fill(0);
            rect(165,281,100,100);
            rect(396,79,100,100);
            rect(396,282,100,100);
            fill(100, 100, 255);
            rect(214, 190, 80, 80);
            noStroke();
            fill(0);
            rect(385, 94, 18, 24);
            rect(385, 137, 18, 24);
            rect(415, 167, 18, 24);
            rect(449, 167, 18, 24);
            rect(487, 140, 18, 24);
            rect(487, 96, 18, 24);
            rect(463, 69, 18, 24);
            rect(415, 69, 18, 24);
        popStyle();
    }
};
keyPressed = function() {
    keys[keyCode] = true;
};
keyReleased = function() {
    keys[keyCode] = false;
};

    }};

  // Get the canvas that ProcessingJS will use
  var canvas = document.getElementById("Invisable"); 
  // Pass the function to ProcessingJS constructor
  var processingInstance = new Processing(canvas, programCode); 
  </script>

		
            <canvas id="Ping"></canvas> 
            
            <script>
  var programCode = function(processingInstance) {
    with (processingInstance) {
      size(400, 400); 
      // {
smooth();
cursor("none");

var p = [];
var a = {
    x: mouseX,
    w: 30,
};
var score = 0;
var c1 = color(135, 207, 197), c2 = color(113, 166, 158);

var u = function(i) {
    if(p[i].x < 55 + p[i].s && p[i].y < 355 + p[i].s) {
        p[i].vx *= -1;
        p[i].x = 55 + p[i].s;
    }
    if(p[i].x > 345 - p[i].s && p[i].y < 355 + p[i].s) {
        p[i].vx *= -1;
        p[i].x = 345 - p[i].s;
    }
    if(p[i].y < 55 + p[i].s) {
        p[i].vy *= -1;
        p[i].y = 55 + p[i].s;
    }
    if(p[i].y > 345 - p[i].s && p[i].x > a.x - a.w - p[i].s && p[i].x < a.x + a.w + p[i].s && p[i].y < 360 + p[i].s) {
        p[i].vy *= -1;
        p[i].y = 345 - p[i].s;
        score++;
    }
    
    p[i].x += p[i].vx;
    p[i].y += p[i].vy;
    
    noStroke();
    fill(c2);
    ellipse(p[i].x - 5, p[i].y + 5, p[i].s*2, p[i].s*2);
    
    if(p[i].y > 500) {
        p = [];
        frameCount = 0;
        score = 0;
    }
};
var newP = function() {
    var a = random(110, 250), s = random(2, 3);
    p.push({x: random(100, 300), y: random(100, 200), vx: sin(a)*s, vy: cos(a)*s, s: 10});
};
newP();
frameCount = 10;
draw = function() {
    background(c1);
    
    stroke(130, 204, 193);
    for(var i = 0; i < 500; i += 40) {
        line(0, i, 400, i - 100);
    }
    
    fill(c2);
    textSize(70);
    textAlign(3, 3);
    text(score, 200, 200);
    
    stroke(c2);
    noFill();
    strokeCap(PROJECT);
    strokeWeight(10);
    beginShape();
    vertex(45, 355);
    vertex(45, 55);
    vertex(345, 55);
    vertex(345, 355);
    endShape();
    
    a.x = constrain(a.x + (mouseX - a.x)/10, 60 + a.w, 339 - a.w);
    line(a.x - a.w - 5, 355, a.x + a.w - 5, 355);
    
    noStroke();
    for(var i = 0; i < p.length; i++) {
        u(i);
    }
    for(var i = 0; i < p.length; i++) {
        fill(240);
        ellipse(p[i].x, p[i].y, p[i].s*2, p[i].s*2);
    }
    noFill();
    stroke(240);
    beginShape();
    vertex(50, 350);
    vertex(50, 50);
    vertex(350, 50);
    vertex(350, 350);
    endShape();
    
    stroke(240);
    line(a.x - a.w, 350, a.x + a.w, 350);
    
    if(frameCount % 600 === 0) {
        newP();
    }
    
}; //}

    }};

  // Get the canvas that ProcessingJS will use
  var canvas = document.getElementById("Ping"); 
  // Pass the function to ProcessingJS constructor
  var processingInstance = new Processing(canvas, programCode); 
  </script>
            <canvas id="Bounce"></canvas>
            <script>
  var programCode = function(processingInstance) {
    with (processingInstance) {
      size(400, 400); 
      frameRate(60);
        
      // Paste code from Khan Academy here:
/*
Credit to:
https://www.khanacademy.org/computer-programming/collision-tutorial/5404853079457792.
*/


var boxX = 0;
var boxY = 0;
var ySpeed = 0;
var xSpeed = 0;
var gravity = 0.3;
var jumpHeight = 10;
var canJump = false;
var keys = {};
var levels = [
    /*
        b = block
        g = player
        p = portal
        i = invisible block
        l = lava
        t = tramp
    */
    [
        'bbbbbbbbbb',
        'bg       b',
        'b        b',
        'b        b',
        'b        b',
        'b        b',
        'b        b',
        'b        b',
        'b       pb',
        'bbbbbbbbbb',
    ], // Level 1
    [
        'bbbbbbbbbb',
        'b p      b',
        'b        b',
        'b        b',
        'b   b    b',
        'b        b',
        'b        b',
        'b   b    b',
        'bg       b',
        'bbbbbbbbbb',
    ], // Level 2
    [
        'bbbbbbbbbb',
        'bg      bb',
        'b llllllbb',
        'b       bb',
        'b       bb',
        'b       bb',
        'b       bb',
        'b       bb',
        'b  lll  pb',
        'bbbbbbbbbb',
    ], // Level 3
    [
        'bbbbbbbbbb',
        'b        b',
        'b        b',
        'b        b',
        'b        b',
        'b        b',
        'b  g     b',
        'b      bbb',
        'b  ll   pb',
        'bbbbbbbbbb',
    ], // Level 4
    [
        'bbbbbbbbbb',
        'b        b',
        'b        b',
        'b        b',
        'b        b',
        'b  i     b',
        'b  ii    b',
        'b  ii   ib',
        'bg ii   pb',
        'bbbbbbbbbb',
    ], // Level 5
    [
        'llllllllll',
        'l        l',
        'l   g    l',
        'l        l',
        'l        l',
        'l        l',
        'l        l',
        'l     p  l',
        'l        l',
        'llllllllll',
    ], // Level 6
    [
        'bbbbbbbbbb',
        'bg    p  b',
        'b        b',
        'b        b',
        'b        b',
        'b        b',
        'b        b',
        'b        b',
        'bt  t  ttb',
        'bbbbbbbbbb',
    ], // Level 7
    [
        'bbbbbbbbbb',
        'b        b',
        'b        b',
        'b        b',
        'b        b',
        'b        b',
        'b        b',
        'b        b',
        'bg       b',
        'bbbbbbbbbb',
    ], // Level 8
];
var levelTexts = [
    '      Easy enough  ',
    '         Up, up, up',
    'Ouch! Don\'t touch!',
    "         Hmm...    ",
    "         Wait what?",
    "      Waaaaaat xD  ",
    "        Tramps!    ",
    "  Thats all I have for\n  now :)"
];
var currentLevel = 0;
var newLoadLevel = true;
var blocks = [];
var tramping = false;
var nextLevel = function() {
    if (currentLevel === levels.length - 1) {
        return;
    }
    currentLevel++;
    newLoadLevel = true;
};
var restartLevel = function() {
    newLoadLevel = true;
};

ellipseMode(CORNER);

// block {
var Block = function(x, y, t) {
    this.x = x;
    this.y = y;
    this.t = t;
};

Block.prototype.draw = function() {
    if (this.t === 'b') {
        fill(0, 0, 0);
    } else if (this.t === 'p') {
        fill(162, 0, 255);
    } else if (this.t === 'l') {
        fill(255, 0, 0);
    } else if (this.t === 'i') {
        fill(255, 255, 255, 255);
    } else if (this.t === 't') {
        fill(56, 56, 56);
    }
    (this.t === 'p' ? ellipse : rect)(this.x, this.y, 40, 40);
};
// }

// drawLevel {
var drawLevel = function(l) {
    for (var i = 0; i < l.length; i++) {
        for (var j = 0; j < l[i].length; j++) {
            if (newLoadLevel) {
                if (l[i][j] === 'g') {
                    boxX = j * 40;
                    boxY = i * 40;
                } else if (l[i][j] === 'b') {
                    blocks.push(new Block(j * 40, i * 40, 'b'));
                } else if (l[i][j] === 'l') {
                    blocks.push(new Block(j * 40, i * 40, 'l'));
                } else if (l[i][j] === 'p') {
                    blocks.push(new Block(j * 40, i * 40, 'p'));
                } else if (l[i][j] === 'i') {
                    blocks.push(new Block(j * 40, i * 40, 'i'));
                } else if (l[i][j] === 't') {
                    blocks.push(new Block(j * 40, i * 40, 't'));
                }
            }
        }
    }
};
// }

// collide {
var isCollide = function(a, b) {
    return a.y + 40 > b.y && a.y < b.y + 40 && a.x + 40 > b.x && a.x < b.x + 40;
};
var collide = function(a, b, xs, ys) {
    if (isCollide(a, b)) {
        if (b.t === 'p') { // a portal
            nextLevel();
            return;
        }
        if (b.t === 'l') { // lava
            restartLevel();
            return;
        }
        if (ys > 0) {
            boxY = b.y - 40;
            ySpeed = 0;
            canJump = true;
        }
        if (b.t === 't' && ys > 0 && canJump) {
            tramping = true;
        } else {
            tramping = false;
        }
        if (ys < 0) {
            boxY = b.y + 40;
            ySpeed = 0;
        }
        if (xs > 0) {
            boxX = b.x - 40;
            xSpeed = 0;
        }
        if (xs < 0) {
            boxX = b.x + 40;
            xSpeed = 0;
        }
    }
};
// }

// draw {
draw = function() {
    background(255, 255, 255);
    noStroke();
    if (newLoadLevel) {
        blocks = [];
    }
    drawLevel(levels[currentLevel]);
    blocks.forEach(function(x) {
        x.draw();
    });
    fill(0, 196, 255);
    rect(boxX, boxY, 40, 40);
    ySpeed += gravity;
    if (tramping && canJump) {
        ySpeed = -11;
    } else if (keys[UP] && canJump) {
        ySpeed = -jumpHeight;
    }
    canJump = false;
    
    if (keys[LEFT]) {
        xSpeed = -5;
    } else if (keys[RIGHT]) {
        xSpeed = 5;
    } else {
        xSpeed = 0;
    }
    textSize(32);
    fill(0, 0, 0);
    text(levelTexts[currentLevel], 50, 74);
    newLoadLevel = false;
    boxX += xSpeed;
    blocks.forEach(function(x) {
        collide(new PVector(boxX, boxY), x, xSpeed, 0);
        if (newLoadLevel) {
            return;
        }
    });
    if (newLoadLevel) {
        return;
    }
    boxY += ySpeed;
    blocks.forEach(function(x) {
        collide(new PVector(boxX, boxY), x, 0, ySpeed);
    });
    
};
// }

// keys {
keyPressed = function() {
    if (keyCode === 82) {
        restartLevel();
    }
    keys[keyCode] = true;
};

keyReleased = function() {
    keys[keyCode] = false;
};
// }
    }};

  // Get the canvas that ProcessingJS will use
  var canvas = document.getElementById("Bounce"); 
  // Pass the function to ProcessingJS constructor
  var processingInstance = new Processing(canvas, programCode); 
  </script>
            <canvas id="2048"></canvas> 
              <script>
  var programCode = function(processingInstance) {
    with (processingInstance) {
      size(400, 400); 
      // {

// Who can get 65536?

var grid = [];
textFont(createFont('arial black',20));
textAlign(CENTER, CENTER);

var shadeCell = function(cel){
// does color transitions
    var klrs = [ 0xFFFFFFF0, 0xFFFFD060,
                 0xFFFF4060, 0xFF8090FF,
                 0xFF40C0FF, 0xFF80CC60];

    var idx = floor(cel /4);
    var pct = cel % 4;
    return lerpColor(klrs[idx], klrs[idx+1], pct/4);
};

var pickRandom = function(){
// locates random open cell
    var pick = [];
    // find open cells
    for (var y=5; y--;){
    for (var x=5; x--;){
        if (grid[y][x] === 0){pick.push([x,y]);}
    }}
    // pick one
    if (pick.length>0){
        var cel = pick[floor(random(pick.length))];
        grid[cel[1]][cel[0]] = 1;
        return true;
    }
};

var resetGrid = function(){
    for (var i=5; i--;){
        grid[i] = [0,0,0,0,0];
    }
    pickRandom();
};

var updateGrid = function(v){
// draws the grid
    background(202);
    // border
    strokeWeight(4);
    stroke(124);
    rect(16, 16, 369, 369);
    // cells
    strokeWeight(2);
    for (var y=5; y--;){
    for (var x=5; x--;){
        v = grid[y][x];
        if (v===0){
            fill(202);
            rect(18+x*73, 18+y*73, 73, 73);
        }else{
            fill(shadeCell(v));
            rect(18+x*73, 18+y*73, 73, 73);
            fill(0);
            // scale text to fit cell
            pushMatrix();
            translate(54+x*73, 56+y*73);
            scale((v<10)?1.5:(v<17)?1:(v<20)?0.8:0.7);
            text(pow(2, v), 0, 0);
            popMatrix();
        }
    }}
};

var crunchRow = function(dir, row){
// condenses single row either left or right
    var repeat = 0;  // (moved)
    if (dir){ // right
        for (var i=4; i>0; i--){
            if (row[i]===0){
                repeat += row[i-1]>0;
                row[i] = row[i-1];
                row[i-1] = 0;
            }else if (row[i] === row[i-1]){
                row[i]++;
                row[i-1] = 0;
            }    
        }
    }else{      // left
        for (var i=0; i<4; i++){
            if (row[i]===0){
                repeat += row[i+1]>0;
                row[i] = row[i+1];
                row[i+1] = 0;
            }else if (row[i] === row[i+1]){
                row[i]++;
                row[i+1] = 0;
            }    
        }
    }
    if (repeat>0){    // (moved)
        crunchRow(dir, row);
    }
};

var canMove = function(){
// compares adjacent cells
    for (var y=5; y--;){
    for (var x=5; x--;){
        if (x<4 && grid[y][x] === grid[y][x+1]){
            return true;
        }
        if (y<4 && grid[y][x] === grid[y+1][x]){
            return true;
        }
    }}
};

var gameOver = function(){
    fill(0, 180);
    noStroke();
    rect(0, 310, 400, 20);
    fill(255);
    text("PRESS SPACE BAR TO PLAY AGAIN", 200, 320);
    textSize(80);
    fill(0);
    text("GAME\nOVER", 202, 172);
    fill(255);
    text("GAME\nOVER", 200, 170);
    keyPressed = function(){
        if (keyCode === 32){
            Program.restart();
        }
    };
};

keyPressed = function(){
// handle user input
var valid = false;
    switch (keyCode){
        case LEFT:
        case RIGHT:
            valid = true;
            // rows
            for (var i=5; i--;){
                crunchRow(keyCode===RIGHT, grid[i]);
            }
            break;
        case UP:
        case DOWN:
            valid = true;
            // columns
            var tmp = [0,0,0,0,0];
            for (var i=5; i--;){
                // read
                for (var j=5; j--;){
                    tmp[j] = grid[j][i];
                }
                crunchRow(keyCode===DOWN, tmp);
                // save
                for (var j=5; j--;){
                    grid[j][i] = tmp[j];
                }
            }
            
    }
    if (valid){
        if (pickRandom() || canMove()){
            updateGrid();
        }else{
            gameOver();
        }
    }
};

// program startup
resetGrid();
updateGrid();

    }};

  // Get the canvas that ProcessingJS will use
  var canvas = document.getElementById("2048"); 
  // Pass the function to ProcessingJS constructor
  var processingInstance = new Processing(canvas, programCode); 
  </script>
          </div>
        </div>
      </div>
      <!-- About -->
      <div class="page">
        
        <div class="section-text">
          <h2>Who am I?</h2>
          <p>My name is AspenBranch, and I'm a great at front-end and I'm planning on making games in the future.</p>
          <h2>My Favorite Hobbies</h2>
          <p>I like to code, read and climb</p>
          <h2>Favorite Project</h2>
          <p>I have three.</p>
          <a class="link" href="https://codepen.io/Aspen-Branch/pen/WNLzVrr">Glow Jump<br></a>
          <a class="link" href="https://codepen.io/Aspen-Branch/pen/rNooYRv">Astro</a>
          <p>And this webpage</p>
        </div>
      </div>
      <!-- Feed -->
      <div class="page">
        <h1 class="page-header">Feed</h1>
           <div class="section-text">
          <h3>8-29-2023</h3>
          <p>I finished this website...</p>
             </div
      </div>
    </div>
    <script type="module">
      /* page switching */
      const pages = document.getElementsByClassName("page");
      let oldPage = 0;
      function switchPage(index) {
        const lastPage = pages[oldPage];
        lastPage.addEventListener("animationend", callback);
        lastPage.style.animation = "fade-out .2s ease-out";
        // locally scoped callback
        function callback() {
          lastPage.removeEventListener("animationend", callback);
          lastPage.style.display = "none";
          oldPage = index;
          pages[index].style = "display:block;animation:fade-in .2s ease-in forwards;";
        }
      }
      /* apply event listeners to "links" */
      addClassListener("js-home", "click", () => switchPage(0))
      addClassListener("js-projects", "click", () => switchPage(1))
      addClassListener("js-about", "click", () => switchPage(2))
      addClassListener("js-feed", "click", () => switchPage(3))
      function addClassListener(className, eventType, callback) {
        Array.from(document.getElementsByClassName(className)).forEach(e => e.addEventListener(eventType, callback));
      }
      
      
      /* | Projects API | */
      const container = document.getElementById("projects-container"),
        KAE = "https://www.khanacademy.org";
      /* returns the date in MM/DD/YYYY */
      Date.prototype.today = function() {
        const d = this.getDate(),
          a = this.getMonth() + 1,
          b = this.getFullYear();
        return `${10>a?"0":""}${a}/${10>d?"0":""}${d}/${b}`
      };
      /* make the JSONP request */
      const script = document.createElement("script");
      script.src = `${KAE}/api/internal/user/scratchpads?username=AmericanGuard&callback=filterProjects`;
      document.head.appendChild(script);
      window.filterProjects = data => {
        container.innerHTML = "";
        data.scratchpads.forEach(result => {
          const project = projects.find(item => result.url.includes(item.id));
          if(project) {
            container.innerHTML += 
           `<a class="project" href="${result.url}" target="_blank">
              <div class="project-inner">
                <div class="project-face">
                  <img class="project-image" src="${KAE + result.thumb}" alt="Project Image">
                </div>
                <div class="project-info">
                  <h3 class="project-title">${project.title ?? result.title}</h3>
                  <p class="project-created">${new Date(result.created).today()}</p>
                  <p class="project-description">${project.description ?? "No description"}</p>
                  <p class="project-stats">${result.sumVotesIncremented} Votes | ${result.spinoffCount} Spinoffs</p>
                </div>
              </div>
            </a>`;
          }
        });
        document.querySelectorAll(".project-inner").forEach((e, i) => {e.style.animationDelay = `${i*75}ms`})
        script.remove();
      };
      
      
      /* | Subscribe Comments API | */
      const _script = document.createElement("script");
      _script.src = "https://www.khanacademy.org/api/internal/discussions/ag5zfmtoYW4tYWNhZGVteXJACxIIVXNlckRhdGEiHWthaWRfNzE0Mjc2MjQyMjA0OTQ5MDIxNDUwNDE5DAsSCEZlZWRiYWNrGICAo5G4tpEKDA/replies?callback=readComments";
      document.head.appendChild(_script);
      /* process comment data */
      const comments = document.getElementById("comments");
      window.readComments = data => {
        comments.innerHTML = "";
        if(typeof data === "object" && Array.isArray(data)) {
          data.forEach(comment => {
            if(comment.authorKaid === "kaid_714276242204949021450419") {
              comments.innerHTML += `<div class="comment" style='order:${-(new Date(comment.date).getTime() / 1000)}'><div class="author-avatar-group"><div class="author-avatar-container"><img class="author-avatar" src="${comment.authorAvatarSrc}"></div><h4 class="comment-author">${comment.authorNickname}</h4><time class='date-posted'>${new Date(comment.date).today()}</time></div><pre class="comment-content">${parseContent(comment.content)}</pre></div>`;
            }
          });
        } else {
          comments.innerHTML = "No comments... yet."
        }
      };
      /* comment parsing */
      const underscores = /_([^_]*)_/g,
        asterisks =  /\*(.*?)\*/g,
        URLs = /(\b(https):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim;
      function parseContent(content) {
        return content.replace(URLs, "<a class='link' href='$1' target='_blank'>$1</a>").replace(underscores, "<i>$1</i>").replace(asterisks, "<b>$1</b>");
      }
      
      
      /* | Popup Code | */
      const popup = document.getElementById("popup");
      if(window.isFullscreen) {
        popup.remove();
      } else {
        
        document.getElementById("close").addEventListener("click",e=>{popup.style.animation="slide-out .3s ease-out",popup.addEventListener("animationend",e=>popup.remove())})
      }
      function openFullscreen() {
        if(!window.isFullscreen) {
          const w = window.open();
          return w.document.open(),w.document.write(`<!doctype html>${html}`),w.document.close(),w.isFullscreen=1
        }
      }
      
      /* | Scroll Animations | */
      const scroll = document.getElementsByClassName("js-scroll");
      pages[0].addEventListener("scroll", () => {
        for(var i = scroll.length; i--;) {
          const foo = scroll[i];
          if(foo.getBoundingClientRect().top < window.innerHeight) {
            foo.classList.add("scrolled");
          } else {
            foo.classList.remove("scrolled");
          }
        }
      });
      // alert(o)
      
      /* | Hero Animations | */
      window.addEventListener("load", () => {
        /* Retrieve lines from hero divs */
        const heroName = document.getElementById("hero__name"),
          heroHeadline = document.getElementById("hero__headline"),
          heroTagline = document.getElementById("hero__tagline"),
          lines1 = getLines(heroName),
          lines2 = getLines(heroHeadline),
          lines3 = getLines(heroTagline),
          len1 = lines1.length,
          len2 = len1 + lines2.length,
          len3 = len2 + lines3.length;
        heroHeadline.innerHTML = heroTagline.innerHTML = heroName.innerHTML = "";
        /* Iterate through all lines and add them with increasing delay */
        let i = 0;
        while(i<len1)heroName.innerHTML += `<div style="opacity:0;animation:slide-up 750ms ${i*150}ms forwards;width:max-content;background-image:linear-gradient(83.84deg, var(--theme-primary) -6.87%, var(--theme-secondary) 26.54%, var(--theme-tertiary) 58.58%);-webkit-background-clip: text;-webkit-text-fill-color:#0000;">${lines1[i++]}</div>`;
        while(i < len2) heroHeadline.innerHTML += `<div style="opacity:0;animation:slide-up 750ms ${i*150}ms forwards;">${lines2[(i++) - len1]}</div>`;
        while(i < len3) heroTagline.innerHTML += `<div style="opacity:0;animation:slide-up 750ms ${i*150}ms forwards">${lines3[(i++) - len2]}</div>`;
        /* Continue to add unique elements */
        document.getElementById("actions").style = `opacity:0;animation:slide-up 750ms ${(i++)*150}ms forwards`
        document.getElementById("hero-background").style.animationDelay=`${i*150}ms`;
        /* Finally, show the homepage */
        document.getElementById("homepage").style.display = "block"
        
        /* This function gets the lines of an element */
        function getLines(element) {
          const node = element.firstChild,
            len = element.textContent.length + 1,
            range = document.createRange(),
            lines = [];
          let hTracker, y, oldY;
          range.selectNode(node);
          range.collapse();
          hTracker = range.cloneRange();
          hTracker.setEnd(node, 1);
          oldY = hTracker.getBoundingClientRect().height;
          for(var n = 0; n < len; n++) {
            hTracker.setEnd(node, n);
            range.setEnd(node, n);
            y = hTracker.getBoundingClientRect().height;
            if (y > oldY || n === len - 1) {
              range.setEnd(node, n - (n !== len - 1));
              lines.push(range.toString());
              range.setStart(node, n - 1);
              oldY = y;
            }
          }
          return lines;
        }
      });
    </script>
  </body>
</html>
